<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proofle | Zero-Knowledge in Mind, Infinite Love in Heart </title>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="styles.css">
    <script src="https://code.jquery.com/jquery-3.1.1.slim.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.js"></script>
    <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
    <script charset="utf-8" src="https://cdn.ethers.io/scripts/ethers-v4.min.js" type="text/javascript"></script>
    <script src="./register-image.js"></script>
</head>
<body>
    <div class="container">
        <a href="index.html"><div class="app">proofle</div></a>
        
        <p><img id="profile-photo" class="a-profile" src=""></p>
        <p><label class="a" for="input-file">Update</label>
        <a class="a" href="register-profile.html">Next</a></p>
        <input id="input-file" type="file" accept="image/jpeg, image/jpg, image/png" style="display: none;">
        
        <script>
            let profile_photo = document.getElementById("profile-photo");
            let input_file = document.getElementById("input-file");

            input_file.addEventListener("change", function() {
                profile_photo.src = URL.createObjectURL(input_file.files[0]);

                const reader = new FileReader();
                reader.onloadend = () => {
                    const profile_photo_base64 = reader.result;
                    console.log(profile_photo_base64);

                    localStorage.removeItem("user_photo");
                    localStorage.setItem("user_photo", profile_photo_base64);
                };

                reader.readAsDataURL(input_file.files[0]);
            });
        </script>
    </div>
</body>
</html>